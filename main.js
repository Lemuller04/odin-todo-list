(()=>{"use strict";var e={56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var d={},i=[],c=0;c<e.length;c++){var a=e[c],s=o.base?a[0]+o.base:a[0],l=d[s]||0,u="".concat(s," ").concat(l);d[s]=l+1;var p=n(u),b={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==p)t[p].references++,t[p].updater(b);else{var m=r(b,o);o.byIndex=c,t.splice(c,0,{identifier:u,updater:m,references:1})}i.push(u)}return i}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var d=o(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<d.length;i++){var c=n(d[i]);t[c].references--}for(var a=o(e,r),s=0;s<d.length;s++){var l=n(d[s]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}d=a}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,o,r,d){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(o)for(var c=0;c<this.length;c++){var a=this[c][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);o&&i[l[0]]||(void 0!==d&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=d),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),t.push(l))}},t}},365:(e,t,n)=>{n.d(t,{A:()=>p});var o=n(601),r=n.n(o),d=n(314),i=n.n(d),c=n(417),a=n.n(c),s=new URL(n(787),n.b),l=i()(r()),u=a()(s);l.push([e.id,`:root {\n  --highlight-color: #550f85;\n  --main-text-color: #292E1E;\n}\n\n*,\n*::before,\n*::after {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n@font-face {\n  font-family: "Lato";\n  src: url(${u});\n}\n\nbody {\n  font-family: "Lato";\n  min-height: 100vh;\n  font-size: 1rem;\n  line-height: 1.5;\n  display: grid;\n  grid-template-rows: auto auto 1fr auto;\n  grid-template-columns: 200px 1fr;\n  color: #fff;\n}\n\nheader {\n  background-color: var(--highlight-color);\n  grid-area: 1 / 2 / 2 / 3;\n  display: flex;\n  justify-content: flex-end;\n  height: 70px;\n  box-shadow: 2px 2px 2px rgb(0 0 0 / .5);\n}\n\nnav {\n  display: flex;\n  align-items: center;\n}\n\nheader ul {\n  list-style-type: none;\n  display: flex;\n  margin-right: 20px;\n  gap: 10px;\n}\n\nheader button {\n  background: none;\n  border: none;\n  color: inherit;\n  text-decoration: underline;\n}\n\n.sidebar {\n  background-color: var(--highlight-color);\n  grid-area: 1 / 1 / 5 / 2;\n  box-shadow: 2px 2px 2px rgb(85 15 133 / .5);\n\n}\n\n.user-name-container {\n  display: flex;\n  padding: 15px 30px;\n  gap: 5px;\n}\n\n.user-name {\n  font-weight: 700;\n  font-size: 1.2rem;\n}\n\n.profile-picture {\n  border-radius: 50%;\n}\n\n.sidebar-content {\n  display: flex;\n  gap: 6px;\n  flex-direction: column;\n  align-items: center;\n}\n\n.sidebar-content ul {\n  display: grid;\n  grid-template: auto / auto;\n  list-style-type: none;\n}\n\n.sidebar-content button {\n  max-width: 200px;\n  background: none;\n  width: 100%;\n  color: #fff;\n  border: 2px solid var(--highlight-color);\n  padding: 8px 12px;\n  border-radius: 20px;\n}\n\n.sidebar-content button:hover {\n  background-color: rgb(255 255 255 / .2);\n  transition: background-color 0.3s ease;\n}\n\n.active {\n  font-weight: 700;\n  border: 2px solid #fff !important;\n  box-shadow: 2px 2px 2px rgb(0 0 0 / .2);\n}\n\n.active::before {\n  content: "> ";\n}\n\nmain {\n  color: var(--main-text-color);\n\n}\n\nh1 {\n  padding: 20px 50px;\n}\n\n.tool-bar {\n  display: grid;\n  grid-template: auto / 1fr auto auto;\n  align-content: center;\n  gap: 10px;\n  padding: 0 4vw 0 20px;\n}\n\nmain hr {\n  margin-top: 20px;\n}\n\n.tool-bar input {\n  padding: 6px 15px;\n  border: 2px solid #888;\n  border-radius: 20px;\n}\n\n.tool-bar button {\n  background: none;\n  border: none;\n  border-radius: 50%;\n  height: fit-content;\n  width: 30px;\n  height: 100%;\n\n  display: flex;\n  align-items: center;\n}\n\n.tool-bar p {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\nfooter {\n  grid-area: 4 / 2 / 5 / 3;\n  text-align: center;\n}\n\n.footer-links {\n  background-color: var(--highlight-color);\n}\n\n.colors-legend {\n  padding: 3px 0 3px 10px;\n  color: var(--main-text-color);\n  border: none;\n  text-align: start;\n\n  display: flex;\n  gap: 10px;\n  flex-wrap: wrap;\n}\n\n.color-description {\n  padding: 0 10px;\n  border-radius: 20px;\n}\n\na {\n  color: inherit;\n  text-decoration: none;\n}\n\na:hover {\n  text-decoration: underline;\n}\n\nbutton:hover {\n  cursor: pointer;\n}\n\n\n.new-todo-button {\n  position: fixed;\n  z-index: 9999;\n  right: 5px;\n  bottom: 38px;\n  font-size: 2rem;\n  padding: 3px 12px;\n  background-color: var(--highlight-color);\n  color: #fff;\n  border: none;\n  border-radius: 30px;\n  border: 2px solid #fff;\n}\n\n/* Form related styles */\n\ndialog {\n  place-self: center;\n  padding: 30px 60px;\n  border-radius: 20px;\n  font-size: 1.3rem;\n  color: #fff;\n  background-color: var(--highlight-color);\n}\n\ndialog::backdrop {\n  background-color: rgb(0 0 0 / .4);\n}\n\n\nform input,\nform select {\n  border-radius: 10px;\n  border: none;\n  padding: 3px 8px;\n}\n\nfieldset {\n  padding: 20px 40px;\n  border-radius: 20px;\n  box-shadow: 2px 2px 5px rgb(0 0 0 / .3);\n}\n\nlabel {\n  font-weight: 600;\n  margin-bottom: 5px;\n}\n\nlegend {\n  text-align: center;\n  font-weight: 700;\n  padding: 0 10px;\n}\n\nform p {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n}\n\ntextarea {\n  min-width: 500px;\n  min-height: 150px;\n  border-radius: 8px;\n  padding: 6px 10px;\n  font-size: .9rem;\n}\n\nfieldset.buttons {\n  display: flex;\n  justify-content: space-evenly;\n  border: none;\n  box-shadow: none;\n}\n\nform button {\n  background-color: #fff;\n  padding: 8px 15px;\n  border: none;\n  border-radius: 20px;\n  box-shadow: 2px 2px 5px rgb(0 0 0 / .3);\n}\n\nbutton,\ntextarea,\ninput,\nselect,\noption,\nlabel {\n  font-size: inherit;\n}\n\n/* Todo cards related styles */\n.todos-container {\n  display: grid;\n  grid-template: auto / 1fr;\n  gap: 5px;\n  padding: 5px;\n  margin-bottom: 30px;\n}\n\n.todo-card {\n  border: 4px solid var(--highlight-color);\n  border-radius: 20px;\n  box-shadow: 2px 2px 5px rgb(0 0 0 / .3);\n  display: grid;\n  grid-template: auto 1fr auto / auto;\n}\n\nh3 {\n  background-color: var(--highlight-color);\n  padding: 6px;\n  border-radius: 12px 12px 0 0;\n  color: #fff;\n  display: flex;\n  justify-content: space-between;\n}\n\n.todo-description,\n.card-tool-bar {\n  padding: 6px;\n}\n\n.todo-description,\n.sidebar-content li {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  max-width: 100%;\n  display: inline-block;\n  transition: all 0.3s ease;\n}\n\n.expanded {\n  white-space: pre-wrap;\n  overflow: visible;\n  background-color: #fff;\n  z-index: 1;\n  position: relative;\n}\n\n.card-tool-bar {\n  border-top: 2px solid var(--highlight-color);\n  display: grid;\n  grid-template: auto / 1fr auto;\n  border-radius: 0 0 12px 12px;\n}\n\n.todo-card-buttons {\n  display: flex;\n  gap: 8px;\n  margin-right: 5px;\n}\n\n.todo-card span {\n  display: flex;\n  align-items: center;\n}\n\n.todo-card-buttons button {\n  background-color: #fff;\n  color: inherit;\n  padding: 8px 16px;\n  border: none;\n  border-radius: 9px;\n}\n\n.todo-card-buttons input[type="checkbox"] {\n  margin: 0 5px;\n  transform: scale(2);\n}\n\n.high,\n.red {\n  background-color: rgb(240 41 84 / .3);\n}\n\n.medium,\n.yellow {\n  background-color: rgb(240 194 41 / .3);\n}\n\n.low,\n.green {\n  background-color: rgb(41 240 127 / .3);\n}\n\n.complete,\n.blue {\n  background-color: rgb(41 150 240 / .3) !important;\n}\n\n.overdue,\n.gray {\n  background: rgb(0 0 0 / 0.2);\n}\n`,""]);const p=l},417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},787:(e,t,n)=>{e.exports=n.p+"9d883d540ee2b4de8024.ttf"},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var d=n.sourceMap;d&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(d))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var d=t[o]={id:o,exports:{}};return e[o](d,d.exports,n),d.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=o[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0;var o=n(72),r=n.n(o),d=n(825),i=n.n(d),c=n(659),a=n.n(c),s=n(56),l=n.n(s),u=n(540),p=n.n(u),b=n(113),m=n.n(b),f=n(365),h={};h.styleTagTransform=m(),h.setAttributes=l(),h.insert=a().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=p(),r()(f.A,h),f.A&&f.A.locals&&f.A.locals;const g=(()=>{const e={};function t(t,n){e[t]=e[t]?.filter(e=>e!=n)??[]}return{subscribe:function(n,o){return e[n]??=[],e[n].push(o),()=>t(n,o)},unsubscribe:t,publish:function(t,n){e[t]?.forEach(e=>e(n))}}})(),x=g;(()=>{function e(e){localStorage.setItem("todos",JSON.stringify(e))}x.subscribe("newTodo:added",e),x.subscribe("todo:edited",e),x.subscribe("todo:deleted",e),x.subscribe("todo:completed",e),x.subscribe("todo:uncompleted",e)})();const v=function(e,t,n,o,r){return{title:e,description:t,duedate:n,importance:o,project:r,id:crypto.randomUUID(),completed:!1}},y=(()=>{let e=[];return x.subscribe("sidebarProject:clicked",function(t){if("All Projects"===t.textContent)return void x.publish("todos:filtered",e);const n=[];for(let o of e)o.project===t.textContent&&n.push(o);x.publish("todos:filtered",n)}),x.subscribe("todoComplete:unchecked",function(t){for(let n of e)n.id===t&&(n.completed=!1);x.publish("todo:uncompleted",e)}),x.subscribe("todoComplete:checked",function(t){for(let n of e)n.id===t&&(n.completed=!0);x.publish("todo:completed",e)}),x.subscribe("deleteTodoButton:pressed",function(t){const n=[];for(let o of e)o.id!=t&&n.push(o);e=n,x.publish("todo:deleted",e)}),x.subscribe("editTodoItem:submited",function(t){const n=v(t[0].title,t[0].description,t[0].duedate,t[0].importance,t[0].project);e[function(t){let n=0;for(let o of e){if(o.id===t)return n;n++}return-1}(t[1])]=n,x.publish("todo:edited",e)}),x.subscribe("page:loaded",function(){e=localStorage.length>0?JSON.parse(localStorage.getItem("todos")):[],x.publish("todosArray:updated",e)}),x.subscribe("newTodoItem:submited",function(t){const n=v(t.title,t.description,t.duedate,t.importance,t.project);e[e.length]=n,x.publish("newTodo:added",e)}),{getTodo:function(t){for(let n of e)if(n.id===t)return n}}})(),w=y,C=((()=>{function e(e,t){const n=/^.{1,32}$/;return n.test(e)?n.test(t)?void 0:"Project name must have from 1 to 32 characters":"Title must have from 1 to 32 characters"}x.subscribe("sidebarProject:clicked",function(e){}),x.subscribe("todoDeleteButton:pressed",function(e){const t=e.getAttribute("data-id");x.publish("deleteTodoButton:pressed",t)}),x.subscribe("todoCardEditButton:pressed",function(e){const t=e.getAttribute("data-id"),n=w.getTodo(t);document.querySelector("input[name=edit-todo-title]").value=n.title,document.querySelector("textarea[name=edit-todo-desc]").value=n.description,document.querySelector("input[name=edit-todo-duedate]").value=n.duedate,document.querySelector("select[name=edit-todo-importance]").value=n.importance,document.querySelector("input[name=edit-todo-project]").value=n.project,document.querySelector(".edit-todo-id").setAttribute("data-id",t)}),x.subscribe("page:loaded",function(){!function(){const t=document.querySelector(".new-todo-form");t.addEventListener("submit",n=>{n.preventDefault();const o=document.querySelector("input[name=new-todo-title]").value.trim(),r=document.querySelector("textarea[name=todo-desc]").value.trim(),d=document.querySelector("input[name=new-todo-duedate]").value,i=document.querySelector("select[name=new-todo-importance]").value,c=document.querySelector("input[name=new-todo-project]").value.trim(),a=e(o,c);if(a)return void alert(a);const s={title:o,description:r,duedate:d,importance:i,project:c};x.publish("newTodoItem:submited",s),t.reset()})}(),function(){const t=document.querySelector(".edit-todo-form");t.addEventListener("submit",n=>{n.preventDefault();const o=document.querySelector("input[name=edit-todo-title]").value.trim(),r=document.querySelector("textarea[name=edit-todo-desc]").value.trim(),d=document.querySelector("input[name=edit-todo-duedate]").value,i=document.querySelector("select[name=edit-todo-importance]").value,c=document.querySelector("input[name=edit-todo-project]").value.trim(),a=e(o,c);if(a)return void alert(a);const s={title:o,description:r,duedate:d,importance:i,project:c},l=document.querySelector(".edit-todo-id").getAttribute("data-id");x.publish("editTodoItem:submited",[s,l]),t.reset()})}()}),x.subscribe("todoCardButtons:added",function(e){e[0].addEventListener("click",()=>{x.publish("todoCardEditButton:pressed",e[0])}),e[1].addEventListener("click",()=>{x.publish("todoDeleteButton:pressed",e[1])}),e[2].addEventListener("change",()=>{x.publish("todoCheckbox:changed",e[2])}),e[3].addEventListener("click",()=>{x.publish("expandButton:clicked",e[3])})}),x.subscribe("sidebarProjects:added",function(e){for(let t of e)t.addEventListener("click",()=>{x.publish("sidebarProject:clicked",t)})})})(),n.p+"32e4800b0cf754b02904.svg"),S=n.p+"7d30828c9d6c95e85e94.png",E=(n.p,n.p,n.p+"1cf8465edd80537b2ee3.svg");(()=>{function e(e){const t=document.querySelector(".sidebar-content");d(t);const n=[],o=document.createElement("h2");o.textContent="Projects",t.appendChild(o);const r=document.createElement("ul"),i=document.createElement("li"),c=document.createElement("button");c.textContent="All Projects",c.classList.add("active"),c.classList.add("sidebar-project-button"),i.appendChild(c),r.appendChild(i),n.push(c);const a=[];for(let t of e)a.includes(t.project)||a.push(t.project);for(let e of a){const t=document.createElement("li"),o=document.createElement("button");o.textContent=e,o.classList.add("sidebar-project-button"),n.push(o),t.appendChild(o),r.appendChild(t)}x.publish("sidebarProjects:added",n),t.appendChild(r)}function t(){let e=new Date;return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`}function n(e){const t=e.getAttribute("data-open");document.querySelector(`.${t}`).showModal()}function o(e,t){const n=document.createElement("span");n.textContent=`Duedate: ${t.duedate}`,e.appendChild(n);const o=document.createElement("div"),r=document.createElement("button");r.textContent="Expand",r.setAttribute("data-id",t.id),o.appendChild(r);const d=document.createElement("button");d.textContent="Edit",d.setAttribute("data-id",t.id),d.setAttribute("data-open","edit-todo-dialog"),o.appendChild(d);const i=document.createElement("button");i.textContent="Delete",i.setAttribute("data-id",t.id),o.appendChild(i);const c=document.createElement("input");c.setAttribute("type","checkbox"),c.setAttribute("data-id",t.id),c.name="todo-mark-complete",t.completed&&(c.checked=!0),o.appendChild(c),x.publish("todoCardButtons:added",[d,i,c,r]),o.classList.add("todo-card-buttons"),e.appendChild(o)}function r(e){const n=document.querySelector(".todos-container");d(n);for(let r of e){const e=document.createElement("div");e.classList.add("todo-card");const d=document.createElement("h3");d.textContent=r.title;const i=document.createElement("span");i.textContent=r.project,d.appendChild(i);const c=document.createElement("p");c.classList.add("todo-description"),c.classList.add(r.importance),c.textContent=r.description;const a=document.createElement("p");a.classList.add(r.importance),a.classList.add("card-tool-bar"),o(a,r),r.completed&&(c.classList.add("complete"),a.classList.add("complete")),new Date(r.duedate)<new Date(t())&&(c.classList.add("overdue"),a.classList.add("overdue")),e.appendChild(d),e.appendChild(c),e.appendChild(a),n.appendChild(e)}}function d(e){for(;e.firstChild;)e.removeChild(e.firstChild)}x.subscribe("page:loaded",function(){!function(){const e=document.querySelector(".search-button"),t=document.createElement("img");t.src=C,t.width="24",t.height="24",t.alt="Search button icon",e.appendChild(t);const n=document.querySelector(".user-name-container"),o=document.createElement("img");o.src=S,o.width="50",o.height="50",o.alt="User profile picture",o.classList.add("profile-picture"),n.prepend(o);const r=document.querySelector(".logo-container"),d=document.createElement("img");d.src=E,d.width="130",d.alt="App logo image",r.appendChild(d)}(),function(){const e=document.querySelector(".user-info"),n=document.createElement("p");n.textContent="John Doe",n.classList.add("user-name"),e.appendChild(n);const o=document.createElement("p");o.textContent=t(),o.classList.add("current-date"),e.appendChild(o)}()}),x.subscribe("todoCardEditButton:pressed",n),x.subscribe("addTodoButton:clicked",n),x.subscribe("cancelFormButton:pressed",function(e){const t=e.getAttribute("data-close");document.querySelector(`.${t}`).close()}),x.subscribe("sidebarProject:clicked",function(e){document.querySelector("h1").textContent=e.textContent,document.querySelectorAll(".sidebar-project-button").forEach(e=>{e.classList.remove("active")}),e.classList.add("active")}),x.subscribe("expandButton:clicked",function(e){const t=e.parentNode.parentNode.previousElementSibling;t.classList.contains("expanded")?t.classList.remove("expanded"):t.classList.add("expanded")}),x.subscribe("newTodoItem:submited",function(){document.querySelector(".new-todo-dialog").close()}),x.subscribe("editTodoItem:submited",function(){document.querySelector(".edit-todo-dialog").close()}),x.subscribe("todosArray:updated",r),x.subscribe("newTodo:added",r),x.subscribe("todo:edited",r),x.subscribe("todo:deleted",r),x.subscribe("todos:filtered",r),x.subscribe("todosArray:updated",e),x.subscribe("newTodo:added",e),x.subscribe("todo:edited",e),x.subscribe("todo:deleted",e),x.subscribe("todoCheckbox:changed",function(e){const t=e.parentNode.parentNode,n=t.previousElementSibling,o=e.getAttribute("data-id");e.checked?(t.classList.add("complete"),n.classList.add("complete"),x.publish("todoComplete:checked",o)):(t.classList.remove("complete"),n.classList.remove("complete"),x.publish("todoComplete:unchecked",o))})})(),document.addEventListener("DOMContentLoaded",()=>{x.publish("page:loaded"),function(){const e=document.querySelector(".new-todo-button");e.addEventListener("click",()=>{x.publish("addTodoButton:clicked",e)})}(),function(){const e=document.querySelector(".cancel-new-todo");e.addEventListener("click",()=>{x.publish("cancelFormButton:pressed",e)}),document.querySelector(".reset-new-todo-form").addEventListener("click",()=>{document.querySelector("input[name=new-todo-title]").focus()})}(),function(){const e=document.querySelector(".cancel-edit-todo");e.addEventListener("click",()=>{x.publish("cancelFormButton:pressed",e)})}()})})();